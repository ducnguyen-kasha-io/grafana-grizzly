apiVersion: grizzly.grafana.com/v1alpha1
kind: Dashboard
metadata:
    folder: general
    name: overview-node-exporter
spec:
    annotations:
        list:
            - $$hashKey: object:2875
              builtIn: 1
              datasource:
                type: datasource
                uid: grafana
              enable: true
              hide: true
              iconColor: rgba(0, 211, 255, 1)
              name: Annotations & Alerts
              target:
                limit: 100
                matchAny: false
                tags: []
                type: dashboard
              type: dashboard
    editable: true
    fiscalYearStartMonth: 0
    graphTooltip: 0
    links: []
    panels:
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 0
          id: 187
          panels: []
          title: Resource Overview (associated JOB)，Host：$show_hostname，Instance：$node
          type: row
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: |-
            Partition utilization, disk read, disk write, download bandwidth, upload bandwidth, if there are multiple network cards or multiple partitions, it is the value of the network card or partition with the highest utilization rate collected.

            CurrEstab: The number of TCP connections whose current status is ESTABLISHED or CLOSE-WAIT.
          fieldConfig:
            defaults:
                color:
                    fixedColor: dark-green
                    mode: fixed
                custom:
                    align: center
                    cellOptions:
                        mode: basic
                        type: color-background
                    filterable: true
                    inspect: false
                decimals: 2
                displayName: ""
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: dark-green
                          value: null
                unit: short
            overrides:
                - matcher:
                    id: byName
                    options: nodename
                  properties:
                    - id: displayName
                      value: Hostname
                    - id: custom.align
                      value: auto
                - matcher:
                    id: byName
                    options: instance
                  properties:
                    - id: displayName
                      value: IP Address
                    - id: custom.align
                    - id: custom.width
                      value: 150
                - matcher:
                    id: byName
                    options: 'Value #Memory'
                  properties:
                    - id: unit
                      value: bytes
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: displayName
                      value: Memory
                    - id: custom.width
                      value: 110
                    - id: color
                      value:
                        mode: thresholds
                - matcher:
                    id: byName
                    options: 'Value #CPU Cores'
                  properties:
                    - id: displayName
                      value: Cores
                    - id: unit
                      value: short
                    - id: custom.align
                      value: auto
                    - id: custom.width
                      value: 100
                - matcher:
                    id: byName
                    options: 'Value #Uptime'
                  properties:
                    - id: displayName
                      value: Uptime
                    - id: unit
                      value: s
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: color
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-red
                              value: null
                            - color: dark-green
                              value: 86400
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #E'
                  properties:
                    - id: displayName
                      value: Partition %
                    - id: unit
                      value: percent
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 70
                            - color: dark-red
                              value: 85
                    - id: color
                      value:
                        mode: thresholds
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #F'
                  properties:
                    - id: displayName
                      value: CPU %
                    - id: unit
                      value: percent
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 70
                            - color: dark-red
                              value: 85
                    - id: color
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #G'
                  properties:
                    - id: displayName
                      value: Memory %
                    - id: unit
                      value: percent
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 70
                            - color: dark-red
                              value: 85
                    - id: color
                      value:
                        mode: thresholds
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #H'
                  properties:
                    - id: displayName
                      value: Disk read*
                    - id: unit
                      value: Bps
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 1.048576e+07
                            - color: dark-red
                              value: 2.048576e+07
                    - id: color
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #I'
                  properties:
                    - id: displayName
                      value: Disk write*
                    - id: unit
                      value: Bps
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: rgba(237, 129, 40, 0.89)
                              value: 1.048576e+07
                            - color: rgba(245, 54, 54, 0.9)
                              value: 2.048576e+07
                    - id: color
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #J'
                  properties:
                    - id: displayName
                      value: Download*
                    - id: unit
                      value: bps
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 3.048576e+07
                            - color: dark-red
                              value: 1.048576e+08
                    - id: color
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: 'Value #K'
                  properties:
                    - id: displayName
                      value: Upload*
                    - id: unit
                      value: bps
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 3.048576e+07
                            - color: dark-red
                              value: 1.048576e+08
                    - id: color
                    - id: custom.width
                      value: 110
                - matcher:
                    id: byName
                    options: Hostname
                  properties:
                    - id: custom.width
                      value: 213
          gridPos:
            h: 9
            w: 24
            x: 0
            "y": 1
          id: 185
          options:
            cellHeight: sm
            footer:
                countRows: false
                enablePagination: false
                fields: ""
                reducer:
                    - sum
                show: false
            frameIndex: 1
            showHeader: true
            sortBy:
                - desc: false
                  displayName: Hostname
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              editorMode: builder
              exemplar: false
              expr: node_uname_info{job=~"$job"} - 0
              format: table
              instant: true
              interval: ""
              legendFormat: Hostname
              refId: A
            - datasource:
                type: prometheus
                uid: ${datasource}
              exemplar: false
              expr: sum(time() - node_boot_time_seconds{job=~"$job"})by(instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Uptime
              refId: Uptime
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              editorMode: builder
              exemplar: false
              expr: node_memory_MemTotal_bytes{job=~"$job"} - 0
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Memory
              refId: Memory
            - datasource:
                type: prometheus
                uid: ${datasource}
              exemplar: false
              expr: count(node_cpu_seconds_total{job=~"$job",mode='system'}) by (instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: CPU Cores
              refId: CPU Cores
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              exemplar: false
              expr: (1 - avg(rate(node_cpu_seconds_total{job=~"$job",mode="idle"}[$interval])) by (instance)) * 100
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: CPU used%
              refId: F
            - datasource:
                type: prometheus
                uid: ${datasource}
              exemplar: false
              expr: (1 - (node_memory_MemAvailable_bytes{job=~"$job"} / (node_memory_MemTotal_bytes{job=~"$job"})))* 100
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Memory used%
              refId: G
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              exemplar: false
              expr: max((node_filesystem_size_bytes{job=~"$job",fstype=~"ext.?|xfs"}-node_filesystem_free_bytes{job=~"$job",fstype=~"ext.?|xfs"}) *100/(node_filesystem_avail_bytes {job=~"$job",fstype=~"ext.?|xfs"}+(node_filesystem_size_bytes{job=~"$job",fstype=~"ext.?|xfs"}-node_filesystem_free_bytes{job=~"$job",fstype=~"ext.?|xfs"})))by(instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Partition used%
              refId: E
            - datasource:
                type: prometheus
                uid: ${datasource}
              exemplar: false
              expr: max(rate(node_disk_read_bytes_total{job=~"$job"}[$interval])) by (instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Disk read
              refId: H
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              exemplar: false
              expr: max(rate(node_disk_written_bytes_total{job=~"$job"}[$interval])) by (instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Disk write
              refId: I
            - datasource:
                type: prometheus
                uid: ${datasource}
              exemplar: false
              expr: max(rate(node_network_receive_bytes_total{job=~"$job"}[$interval])*8) by (instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Download
              refId: J
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              exemplar: false
              expr: max(rate(node_network_transmit_bytes_total{job=~"$job"}[$interval])*8) by (instance)
              format: table
              hide: false
              instant: true
              interval: ""
              legendFormat: Upload
              refId: K
          title: Server Resource Overview【JOB：$job，Total：$total】
          transformations:
            - id: merge
              options:
                reducers: []
            - id: filterFieldsByName
              options:
                byVariable: false
                include:
                    names:
                        - instance
                        - nodename
                        - 'Value #Uptime'
                        - 'Value #Memory'
                        - 'Value #CPU Cores'
                        - 'Value #G'
                        - 'Value #E'
                        - 'Value #H'
                        - 'Value #I'
                        - 'Value #J'
                        - 'Value #K'
                        - 'Value #F'
          type: table
        - collapsed: false
          gridPos:
            h: 1
            w: 24
            x: 0
            "y": 10
          id: 189
          panels: []
          title: Resource Details：【$show_hostname】
          type: row
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: ""
          fieldConfig:
            defaults:
                decimals: 0
                mappings:
                    - options:
                        match: "null"
                        result:
                            text: N/A
                      type: special
                thresholds:
                    mode: absolute
                    steps:
                        - color: rgba(245, 54, 54, 0.9)
                          value: null
                        - color: rgba(237, 129, 40, 0.89)
                          value: 1
                        - color: rgba(50, 172, 45, 0.97)
                          value: 3
                unit: s
            overrides: []
          gridPos:
            h: 2
            w: 2
            x: 0
            "y": 11
          id: 15
          maxDataPoints: 100
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              exemplar: false
              expr: avg(time() - node_boot_time_seconds{instance=~"$node"})
              format: time_series
              hide: false
              instant: true
              interval: ""
              intervalFactor: 1
              legendFormat: ""
              refId: A
              step: 40
          title: Uptime
          type: stat
        - datasource:
            type: prometheus
            uid: ${datasource}
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                decimals: 1
                mappings:
                    - options:
                        "0":
                            text: N/A
                      type: value
                max: 100
                min: 0.1
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
                        - color: '#EAB839'
                          value: 70
                        - color: red
                          value: 90
                unit: percent
            overrides: []
          gridPos:
            h: 6
            w: 3
            x: 2
            "y": 11
          id: 177
          options:
            displayMode: lcd
            legend:
                calcs: []
                displayMode: list
                placement: bottom
                showLegend: false
            maxVizHeight: 300
            minVizHeight: 10
            minVizWidth: 0
            namePlacement: auto
            orientation: horizontal
            reduceOptions:
                calcs:
                    - last
                fields: ""
                values: false
            showUnfilled: true
            sizing: auto
            valueMode: color
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: 100 - (avg(rate(node_cpu_seconds_total{instance=~"$node",mode="idle"}[$interval])) * 100)
              instant: true
              interval: ""
              legendFormat: CPU Busy
              refId: A
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: avg(rate(node_cpu_seconds_total{instance=~"$node",mode="iowait"}[$interval])) * 100
              hide: true
              instant: true
              interval: ""
              legendFormat: IOwait
              refId: C
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: (1 - (node_memory_MemAvailable_bytes{instance=~"$node"} / (node_memory_MemTotal_bytes{instance=~"$node"})))* 100
              instant: true
              interval: ""
              legendFormat: Used RAM Memory
              refId: B
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: (node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint="$maxmount"}-node_filesystem_free_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint="$maxmount"})*100 /(node_filesystem_avail_bytes {instance=~'$node',fstype=~"ext.*|xfs",mountpoint="$maxmount"}+(node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint="$maxmount"}-node_filesystem_free_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint="$maxmount"}))
              hide: false
              instant: true
              interval: ""
              legendFormat: Used Max Mount($maxmount)
              refId: D
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: (1 - ((node_memory_SwapFree_bytes{instance=~"$node"} + 1)/ (node_memory_SwapTotal_bytes{instance=~"$node"} + 1))) * 100
              instant: true
              interval: ""
              legendFormat: Used SWAP
              refId: F
          type: bargauge
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          description: |-
            In this kanban: the total disk, usage, available, and usage rate are consistent with the values of the Size, Used, Avail, and Use% columns of the df command, and the value of Use% will be rounded to one decimal place, which will be more accurate .

            Note: The Use% algorithm in df is: (size-free) * 100 / (avail + (size-free)), the result is divisible by this value, non-divisible by this value is +1, and the unit of the result is %.
            Refer to the df command source code:
          fieldConfig:
            defaults:
                color:
                    mode: thresholds
                custom:
                    align: auto
                    cellOptions:
                        type: auto
                    filterable: true
                    inspect: false
                decimals: 2
                displayName: ""
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: dark-green
                          value: null
                unit: short
            overrides:
                - matcher:
                    id: byName
                    options: mountpoint
                  properties:
                    - id: displayName
                      value: Mountpoint
                    - id: unit
                      value: bytes
                    - id: decimals
                      value: 2
                    - id: custom.align
                    - id: custom.width
                      value: 125
                - matcher:
                    id: byName
                    options: 'Value #A'
                  properties:
                    - id: displayName
                      value: Avail
                    - id: unit
                      value: bytes
                    - id: decimals
                      value: 1
                    - id: custom.width
                      value: 125
                - matcher:
                    id: byName
                    options: 'Value #B'
                  properties:
                    - id: displayName
                      value: Used
                    - id: unit
                      value: percent
                    - id: decimals
                      value: 1
                    - id: custom.cellOptions
                      value:
                        type: color-background
                    - id: custom.align
                    - id: thresholds
                      value:
                        mode: absolute
                        steps:
                            - color: dark-green
                              value: null
                            - color: dark-orange
                              value: 70
                            - color: dark-red
                              value: 85
                    - id: custom.width
                      value: 125
                - matcher:
                    id: byName
                    options: 'Value #C'
                  properties:
                    - id: displayName
                      value: Size
                    - id: unit
                      value: bytes
                    - id: custom.align
                    - id: custom.width
                      value: 125
                - matcher:
                    id: byName
                    options: fstype
                  properties:
                    - id: custom.width
                      value: 100
          gridPos:
            h: 6
            w: 10
            x: 5
            "y": 11
          id: 181
          links:
            - targetBlank: true
              title: https://github.com/coreutils/coreutils/blob/master/src/df.c
              url: https://github.com/coreutils/coreutils/blob/master/src/df.c
          options:
            cellHeight: sm
            footer:
                countRows: false
                fields: ""
                reducer:
                    - sum
                show: false
            showHeader: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-0
              format: table
              hide: false
              instant: true
              interval: ""
              intervalFactor: 1
              legendFormat: 总量
              refId: C
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_filesystem_avail_bytes {instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-0
              format: table
              hide: false
              instant: true
              interval: 10s
              intervalFactor: 1
              legendFormat: ""
              refId: A
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: (node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-node_filesystem_free_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}) *100/(node_filesystem_avail_bytes {instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}+(node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-node_filesystem_free_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}))
              format: table
              hide: false
              instant: true
              interval: ""
              intervalFactor: 1
              legendFormat: ""
              refId: B
          title: 【$show_hostname】：Disk Space Used Basic(EXT?/XFS)
          transformations:
            - id: merge
              options:
                reducers: []
            - id: filterFieldsByName
              options:
                include:
                    names:
                        - mountpoint
                        - 'Value #C'
                        - 'Value #A'
                        - 'Value #B'
                        - fstype
            - id: organize
              options:
                excludeByName: {}
                includeByName: {}
                indexByName:
                    'Value #A': 3
                    'Value #B': 4
                    'Value #C': 2
                    device: 5
                    fstype: 1
                    mountpoint: 0
                renameByName:
                    'Value #C': ""
          type: table
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: ""
          fieldConfig:
            defaults:
                decimals: 2
                mappings:
                    - options:
                        match: "null"
                        result:
                            text: N/A
                      type: special
                max: 100
                min: 0
                thresholds:
                    mode: absolute
                    steps:
                        - color: rgba(50, 172, 45, 0.97)
                          value: null
                        - color: rgba(237, 129, 40, 0.89)
                          value: 20
                        - color: '#d44a3a'
                          value: 50
                unit: percent
            overrides: []
          gridPos:
            h: 2
            w: 2
            x: 15
            "y": 11
          id: 20
          maxDataPoints: 100
          options:
            colorMode: value
            graphMode: area
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - last
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: avg(rate(node_cpu_seconds_total{instance=~"$node",mode="iowait"}[$interval])) * 100
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: ""
              refId: A
              step: 20
          title: CPU iowait
          type: stat
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: transmit（-）/receive（+）
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: bars
                    fillOpacity: 100
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
                        - color: red
                          value: 80
                unit: bytes
            overrides: []
          gridPos:
            h: 6
            w: 7
            x: 17
            "y": 11
          id: 183
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - sum
                displayMode: list
                placement: bottom
                showLegend: false
            tooltip:
                mode: multi
                sort: none
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: increase(node_network_receive_bytes_total{instance=~"$node",device=~"$device"}[60m])
              interval: 60m
              intervalFactor: 1
              legendFormat: '{{device}}_receive'
              metric: ""
              refId: A
              step: 600
              target: ""
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: increase(node_network_transmit_bytes_total{instance=~"$node",device=~"$device"}[60m])
              hide: false
              interval: 60m
              intervalFactor: 1
              legendFormat: '{{device}}_transmit'
              refId: B
              step: 600
          title: Internet traffic per hour $device
          type: timeseries
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: ""
          fieldConfig:
            defaults:
                mappings:
                    - options:
                        match: "null"
                        result:
                            text: N/A
                      type: special
                thresholds:
                    mode: absolute
                    steps:
                        - color: rgba(245, 54, 54, 0.9)
                          value: null
                        - color: rgba(237, 129, 40, 0.89)
                          value: 1
                        - color: rgba(50, 172, 45, 0.97)
                          value: 2
                unit: short
            overrides: []
          gridPos:
            h: 2
            w: 2
            x: 0
            "y": 13
          id: 14
          maxDataPoints: 100
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: value
            wideLayout: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: count(node_cpu_seconds_total{instance=~"$node", mode='system'})
              format: time_series
              instant: true
              interval: ""
              intervalFactor: 1
              legendFormat: ""
              refId: A
              step: 20
          title: CPU Cores
          type: stat
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          description: ""
          fieldConfig:
            defaults:
                mappings:
                    - options:
                        match: "null"
                        result:
                            text: N/A
                      type: special
                thresholds:
                    mode: absolute
                    steps:
                        - color: rgba(245, 54, 54, 0.9)
                          value: null
                        - color: rgba(237, 129, 40, 0.89)
                          value: 100000
                        - color: rgba(50, 172, 45, 0.97)
                          value: 1e+06
                unit: short
            overrides: []
          gridPos:
            h: 2
            w: 2
            x: 15
            "y": 13
          id: 179
          maxDataPoints: 100
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: avg(node_filesystem_files_free{instance=~"$node",mountpoint="$maxmount",fstype=~"ext.?|xfs"})
              format: time_series
              instant: true
              interval: ""
              intervalFactor: 1
              legendFormat: ""
              refId: A
              step: 20
          title: 'Free inodes:$maxmount '
          type: stat
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: ""
          fieldConfig:
            defaults:
                decimals: 0
                mappings:
                    - options:
                        match: "null"
                        result:
                            text: N/A
                      type: special
                thresholds:
                    mode: absolute
                    steps:
                        - color: rgba(245, 54, 54, 0.9)
                          value: null
                        - color: rgba(237, 129, 40, 0.89)
                          value: 2
                        - color: rgba(50, 172, 45, 0.97)
                          value: 3
                unit: bytes
            overrides: []
          gridPos:
            h: 2
            w: 2
            x: 0
            "y": 15
          id: 75
          maxDataPoints: 100
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: sum(node_memory_MemTotal_bytes{instance=~"$node"})
              format: time_series
              instant: true
              interval: ""
              intervalFactor: 1
              legendFormat: '{{instance}}'
              refId: A
              step: 20
          title: Total RAM
          type: stat
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          description: ""
          fieldConfig:
            defaults:
                mappings:
                    - options:
                        match: "null"
                        result:
                            text: N/A
                      type: special
                thresholds:
                    mode: absolute
                    steps:
                        - color: rgba(245, 54, 54, 0.9)
                          value: null
                        - color: rgba(237, 129, 40, 0.89)
                          value: 1024
                        - color: rgba(50, 172, 45, 0.97)
                          value: 10000
                unit: locale
            overrides: []
          gridPos:
            h: 2
            w: 2
            x: 15
            "y": 15
          id: 178
          maxDataPoints: 100
          options:
            colorMode: value
            graphMode: none
            justifyMode: auto
            orientation: horizontal
            percentChangeColorMode: standard
            reduceOptions:
                calcs:
                    - lastNotNull
                fields: ""
                values: false
            showPercentChange: false
            textMode: auto
            wideLayout: true
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: avg(node_filefd_maximum{instance=~"$node"})
              format: time_series
              instant: true
              intervalFactor: 1
              legendFormat: ""
              refId: A
              step: 20
          title: Total filefd
          type: stat
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: ""
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                decimals: 0
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
                        - color: red
                          value: 80
                unit: percent
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 0
            "y": 17
          id: 7
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: avg(rate(node_cpu_seconds_total{instance=~"$node",mode="system"}[$interval])) by (instance) *100
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: System
              refId: A
              step: 20
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: avg(rate(node_cpu_seconds_total{instance=~"$node",mode="user"}[$interval])) by (instance) *100
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: User
              refId: B
              step: 240
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: avg(rate(node_cpu_seconds_total{instance=~"$node",mode="iowait"}[$interval])) by (instance) *100
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: Iowait
              refId: D
              step: 240
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: (1 - avg(rate(node_cpu_seconds_total{instance=~"$node",mode="idle"}[$interval])) by (instance))*100
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: Total
              refId: F
              step: 240
          title: CPU% Basic
          type: timeseries
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                min: 0
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
                        - color: red
                          value: 80
                unit: bytes
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 8
            "y": 17
          id: 156
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_MemTotal_bytes{instance=~"$node"}
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: Total
              refId: A
              step: 4
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_MemTotal_bytes{instance=~"$node"} - node_memory_MemAvailable_bytes{instance=~"$node"}
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: Used
              refId: B
              step: 4
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_MemAvailable_bytes{instance=~"$node"}
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: Avaliable
              refId: F
              step: 4
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_Buffers_bytes{instance=~"$node"}
              format: time_series
              hide: true
              interval: ""
              intervalFactor: 1
              legendFormat: 内存_Buffers
              refId: D
              step: 4
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_MemFree_bytes{instance=~"$node"}
              format: time_series
              hide: true
              intervalFactor: 1
              legendFormat: 内存_Free
              refId: C
              step: 4
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_Cached_bytes{instance=~"$node"}
              format: time_series
              hide: true
              intervalFactor: 1
              legendFormat: 内存_Cached
              refId: E
              step: 4
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_memory_MemTotal_bytes{instance=~"$node"} - (node_memory_Cached_bytes{instance=~"$node"} + node_memory_Buffers_bytes{instance=~"$node"} + node_memory_MemFree_bytes{instance=~"$node"})
              format: time_series
              hide: true
              intervalFactor: 1
              refId: G
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: (1 - (node_memory_MemAvailable_bytes{instance=~"$node"} / (node_memory_MemTotal_bytes{instance=~"$node"})))* 100
              format: time_series
              hide: false
              interval: 30m
              intervalFactor: 10
              legendFormat: Used%
              refId: H
          title: Memory Basic
          type: timeseries
        - datasource:
            type: prometheus
            uid: ${datasource}
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: transmit（-）/receive（+）
                    axisPlacement: auto
                    barAlignment: 0
                    barWidthFactor: 0.6
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                          value: null
                        - color: red
                          value: 80
                unit: bps
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 16
            "y": 17
          id: 157
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 11.4.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_network_receive_bytes_total{instance=~'$node',device=~"$device"}[$interval])*8
              format: time_series
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_receive'
              refId: A
              step: 4
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_network_transmit_bytes_total{instance=~'$node',device=~"$device"}[$interval])*8
              format: time_series
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_transmit'
              refId: B
              step: 4
          title: Network bandwidth usage per second $device
          type: timeseries
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: opacity
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: short
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 0
            "y": 25
          id: 13
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_load1{instance=~"$node"}
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: 1m
              metric: ""
              refId: A
              step: 20
              target: ""
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_load5{instance=~"$node"}
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: 5m
              refId: B
              step: 20
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_load15{instance=~"$node"}
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: 15m
              refId: C
              step: 20
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: ' sum(count(node_cpu_seconds_total{instance=~"$node", mode=''system''}) by (cpu,instance)) by(instance)'
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: CPU cores
              refId: D
              step: 20
          title: System Load
          type: timeseries
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: 'Per second read / write bytes '
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: Bytes read (-) / write (+)
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: opacity
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: Bps
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 8
            "y": 25
          id: 168
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_read_bytes_total{instance=~"$node"}[$interval])
              format: time_series
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_Read bytes'
              refId: A
              step: 10
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_written_bytes_total{instance=~"$node"}[$interval])
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_Written bytes'
              refId: B
              step: 10
          title: Disk R/W Data
          type: timeseries
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          description: ""
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                max: 100
                min: 0
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: percent
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 16
            "y": 25
          id: 174
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: (node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-node_filesystem_free_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}) *100/(node_filesystem_avail_bytes {instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}+(node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}-node_filesystem_free_bytes{instance=~'$node',fstype=~"ext.*|xfs",mountpoint !~".*pod.*"}))
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: '{{mountpoint}}'
              refId: A
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_filesystem_files_free{instance=~'$node',fstype=~"ext.?|xfs"} / node_filesystem_files{instance=~'$node',fstype=~"ext.?|xfs"}
              hide: true
              interval: ""
              legendFormat: Inodes：{{instance}}：{{mountpoint}}
              refId: B
          title: Disk Space Used% Basic
          type: timeseries
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: |-
            Read/write completions per second

            Writes completed: 每个磁盘分区每秒写完成次数

            IO now 每个磁盘分区每秒正在处理的输入/输出请求数
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: IO read (-) / write (+)
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: iops
            overrides: []
          gridPos:
            h: 9
            w: 8
            x: 0
            "y": 33
          id: 161
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_reads_completed_total{instance=~"$node"}[$interval])
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_Reads completed'
              refId: A
              step: 10
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_writes_completed_total{instance=~"$node"}[$interval])
              format: time_series
              hide: false
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_Writes completed'
              refId: B
              step: 10
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: node_disk_io_now{instance=~"$node"}
              format: time_series
              hide: true
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}'
              refId: C
          title: Disk IOps Completed（IOPS）
          type: timeseries
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          description: The time spent on I/O in the natural time of each second.（wall-clock time）
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: percentunit
            overrides: []
          gridPos:
            h: 9
            w: 8
            x: 8
            "y": 33
          id: 175
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_disk_io_time_seconds_total{instance=~"$node"}[$interval])
              format: time_series
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_ IO time'
              refId: C
          title: Time Spent Doing I/Os
          type: timeseries
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: Time spent on each read/write operation
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: Time read (-) / write (+)
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: opacity
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: false
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: s
            overrides: []
          gridPos:
            h: 9
            w: 8
            x: 16
            "y": 33
          id: 160
          options:
            legend:
                calcs:
                    - mean
                    - lastNotNull
                    - max
                    - min
                displayMode: table
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_read_time_seconds_total{instance=~"$node"}[$interval]) / rate(node_disk_reads_completed_total{instance=~"$node"}[$interval])
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_Read time'
              refId: B
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_write_time_seconds_total{instance=~"$node"}[$interval]) / rate(node_disk_writes_completed_total{instance=~"$node"}[$interval])
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_Write time'
              refId: C
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_io_time_seconds_total{instance=~"$node"}[$interval])
              format: time_series
              hide: true
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}'
              refId: A
              step: 10
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_disk_io_time_weighted_seconds_total{instance=~"$node"}[$interval])
              format: time_series
              hide: true
              interval: ""
              intervalFactor: 1
              legendFormat: '{{device}}_加权'
              refId: D
          title: 'Disk R/W Time(Reference: less than 100ms)(beta)'
          type: timeseries
        - datasource:
            type: prometheus
            uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
          description: |-
            Sockets_used - Sockets currently in use

            CurrEstab - TCP connections for which the current state is either ESTABLISHED or CLOSE- WAIT

            TCP_alloc - Allocated sockets

            TCP_tw - Sockets wating close

            UDP_inuse - Udp sockets currently in use

            RetransSegs - TCP retransmission packets

            OutSegs - Number of packets sent by TCP

            InSegs - Number of packets received by TCP
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: ""
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 0
                    gradientMode: none
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 1
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: short
            overrides: []
          gridPos:
            h: 8
            w: 16
            x: 0
            "y": 42
          id: 158
          options:
            legend:
                calcs:
                    - lastNotNull
                    - max
                displayMode: table
                placement: right
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_netstat_Tcp_CurrEstab{instance=~'$node'}
              format: time_series
              hide: false
              instant: false
              interval: ""
              intervalFactor: 1
              legendFormat: CurrEstab
              refId: A
              step: 20
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_sockstat_TCP_tw{instance=~'$node'}
              format: time_series
              interval: ""
              intervalFactor: 1
              legendFormat: TCP_tw
              refId: D
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_sockstat_sockets_used{instance=~'$node'}
              hide: false
              interval: 30m
              intervalFactor: 1
              legendFormat: Sockets_used
              refId: B
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_sockstat_UDP_inuse{instance=~'$node'}
              interval: ""
              legendFormat: UDP_inuse
              refId: C
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: node_sockstat_TCP_alloc{instance=~'$node'}
              interval: ""
              legendFormat: TCP_alloc
              refId: E
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_netstat_Tcp_PassiveOpens{instance=~'$node'}[$interval])
              hide: true
              interval: ""
              legendFormat: '{{instance}}_Tcp_PassiveOpens'
              refId: G
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_netstat_Tcp_ActiveOpens{instance=~'$node'}[$interval])
              hide: true
              interval: ""
              legendFormat: '{{instance}}_Tcp_ActiveOpens'
              refId: F
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_netstat_Tcp_InSegs{instance=~'$node'}[$interval])
              interval: ""
              legendFormat: Tcp_InSegs
              refId: H
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_netstat_Tcp_OutSegs{instance=~'$node'}[$interval])
              interval: ""
              legendFormat: Tcp_OutSegs
              refId: I
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_netstat_Tcp_RetransSegs{instance=~'$node'}[$interval])
              hide: false
              interval: ""
              legendFormat: Tcp_RetransSegs
              refId: J
            - datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              expr: rate(node_netstat_TcpExt_ListenDrops{instance=~'$node'}[$interval])
              hide: true
              interval: ""
              legendFormat: ""
              refId: K
          title: Network Sockstat
          type: timeseries
        - datasource:
            type: prometheus
            uid: ${datasource}
          description: ""
          fieldConfig:
            defaults:
                color:
                    mode: palette-classic
                custom:
                    axisBorderShow: false
                    axisCenteredZero: false
                    axisColorMode: text
                    axisLabel: used filefd
                    axisPlacement: auto
                    barAlignment: 0
                    drawStyle: line
                    fillOpacity: 10
                    gradientMode: opacity
                    hideFrom:
                        legend: false
                        tooltip: false
                        viz: false
                    insertNulls: false
                    lineInterpolation: linear
                    lineWidth: 2
                    pointSize: 5
                    scaleDistribution:
                        type: linear
                    showPoints: never
                    spanNulls: true
                    stacking:
                        group: A
                        mode: none
                    thresholdsStyle:
                        mode: "off"
                links: []
                mappings: []
                thresholds:
                    mode: absolute
                    steps:
                        - color: green
                        - color: red
                          value: 80
                unit: short
            overrides: []
          gridPos:
            h: 8
            w: 8
            x: 16
            "y": 42
          id: 16
          options:
            legend:
                calcs:
                    - lastNotNull
                displayMode: list
                placement: bottom
                showLegend: true
            tooltip:
                mode: multi
                sort: desc
          pluginVersion: 8.5.0
          targets:
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: node_filefd_allocated{instance=~"$node"}
              format: time_series
              instant: false
              interval: ""
              intervalFactor: 5
              legendFormat: used filefd
              refId: B
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: rate(node_context_switches_total{instance=~"$node"}[$interval])
              interval: ""
              intervalFactor: 5
              legendFormat: switches
              refId: A
            - datasource:
                type: prometheus
                uid: ${datasource}
              expr: '  (node_filefd_allocated{instance=~"$node"}/node_filefd_maximum{instance=~"$node"}) *100'
              format: time_series
              hide: true
              instant: false
              interval: ""
              intervalFactor: 5
              legendFormat: '% of used File Descriptor_{{instance}}'
              refId: C
          title: Open  File Descriptor(left)/Context switches(right)
          type: timeseries
    refresh: ""
    schemaVersion: 40
    tags: []
    templating:
        list:
            - current: {}
              includeAll: false
              label: datasource
              name: datasource
              options: []
              query: prometheus
              refresh: 1
              regex: ""
              type: datasource
            - auto: false
              auto_count: 100
              auto_min: 10s
              current:
                text: 5m
                value: 5m
              label: Interval
              name: interval
              options:
                - selected: false
                  text: 30s
                  value: 30s
                - selected: false
                  text: 1m
                  value: 1m
                - selected: false
                  text: 2m
                  value: 2m
                - selected: false
                  text: 3m
                  value: 3m
                - selected: true
                  text: 5m
                  value: 5m
                - selected: false
                  text: 10m
                  value: 10m
                - selected: false
                  text: 30m
                  value: 30m
              query: 30s,1m,2m,3m,5m,10m,30m
              refresh: 2
              type: interval
            - current: {}
              datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              definition: query_result(topk(1,sort_desc (max(node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.?|xfs",mountpoint!~".*pods.*"}) by (mountpoint))))
              hide: 2
              includeAll: false
              label: maxmount
              name: maxmount
              options: []
              query:
                query: query_result(topk(1,sort_desc (max(node_filesystem_size_bytes{instance=~'$node',fstype=~"ext.?|xfs",mountpoint!~".*pods.*"}) by (mountpoint))))
                refId: StandardVariableQuery
              refresh: 2
              regex: /.*\"(.*)\".*/
              sort: 5
              type: query
            - current: {}
              datasource:
                type: prometheus
                uid: ${datasource}
              definition: label_values(node_uname_info, job)
              includeAll: true
              label: JOB
              multi: true
              name: job
              options: []
              query:
                query: label_values(node_uname_info, job)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              sort: 5
              type: query
            - current: {}
              datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              definition: label_values(node_uname_info{job=~"$job"}, nodename)
              includeAll: false
              label: Host
              name: hostname
              options: []
              query:
                query: label_values(node_uname_info{job=~"$job"}, nodename)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              sort: 5
              type: query
            - current: {}
              datasource:
                type: prometheus
                uid: ${datasource}
              definition: label_values(node_uname_info{job=~"$job",nodename=~"$hostname"},instance)
              hide: 2
              includeAll: false
              label: Instance
              name: node
              options: []
              query:
                query: label_values(node_uname_info{job=~"$job",nodename=~"$hostname"},instance)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              sort: 5
              type: query
            - current: {}
              datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              definition: label_values(node_network_info{device!~'tap.*|veth.*|br.*|docker.*|virbr.*|lo.*|cni.*'},device)
              includeAll: true
              label: NIC
              multi: true
              name: device
              options: []
              query:
                query: label_values(node_network_info{device!~'tap.*|veth.*|br.*|docker.*|virbr.*|lo.*|cni.*'},device)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              sort: 1
              type: query
            - current: {}
              datasource:
                type: prometheus
                uid: ${datasource}
              definition: label_values(node_uname_info{job=~"$job",instance=~"$node"}, nodename)
              hide: 2
              includeAll: false
              label: show_hostname
              name: show_hostname
              options: []
              query:
                query: label_values(node_uname_info{job=~"$job",instance=~"$node"}, nodename)
                refId: StandardVariableQuery
              refresh: 1
              regex: ""
              sort: 5
              type: query
            - current: {}
              datasource:
                type: prometheus
                uid: d3d0edbb-5c7a-421e-8f5d-bdde2c450523
              definition: query_result(count(node_uname_info{job=~"$job"}))
              hide: 2
              includeAll: false
              label: total_servers
              name: total
              options: []
              query:
                query: query_result(count(node_uname_info{job=~"$job"}))
                refId: StandardVariableQuery
              refresh: 1
              regex: /{} (.*) .*/
              type: query
    time:
        from: now-6h
        to: now
    timepicker:
        refresh_intervals:
            - 15s
            - 30s
            - 1m
            - 5m
            - 15m
            - 30m
    timezone: browser
    title: System Overview - Node Exporter
    uid: overview-node-exporter
    weekStart: ""
